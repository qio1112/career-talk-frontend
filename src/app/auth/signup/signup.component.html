<form (ngSubmit)="onSignUp(f)" #f="ngForm">
  <mat-card>
    <h1>Sign Up Your Account</h1>
    <div id="forms">
      <mat-form-field>
        <input
          matInput
          email
          type="text"
          name="email"
          ngModel
          required
          placeholder="Email"
          #email="ngModel">
      </mat-form-field>
      <mat-error *ngIf="email.dirty && email.invalid">Please enter a valid email.</mat-error>
      <mat-form-field>
        <input
          matInput
          type="password"
          name="password"
          ngModel
          required
          placeholder="Password"
          minlength="6"
          #password="ngModel">
      </mat-form-field>
      <mat-error *ngIf="password.hasError('minlength')">password should be at laest 6 characters</mat-error>
      <mat-error *ngIf="password.touched && password.hasError('required')">please input a password longer than 6 characters</mat-error>
      <mat-form-field>
        <input
          matInput
          type="password"
          name="confirmPassword"
          ngModel
          required
          placeholder="Confirm Password"
          minlength="6"
          #confirmPassword="ngModel">
      </mat-form-field>
      <mat-error *ngIf="confirmPassword.touched && confirmPassword.value !== password.value">password does not match</mat-error>
      <table>
        <tr>
          <td>
            <mat-form-field>
              <input
                matInput
                type="text"
                name="firstName"
                ngModel
                required
                placeholder="First name"
                #firstName="ngModel">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field>
              <input
                matInput
                type="text"
                name="lastName"
                ngModel
                required
                placeholder="Last name"
                #lastName="ngModel">
            </mat-form-field>
          </td>
        </tr>
          <mat-error *ngIf="(firstName.touched && firstName.invalid) || (lastName.touched && lastName.invalid)">please enter your first name and last name</mat-error>
      </table>
      <mat-form-field>
        <span matPrefix>+1 &nbsp;</span>
        <input
          type="tel"
          matInput
          name="phone"
          required
          ngModel
          placeholder="Telephone"
          #phone="ngModel">
      </mat-form-field>
      <mat-radio-group ngModel #type="ngModel" required name="type" matInput>
          <p>Are you signing up as a student or for a school?</p>
          <mat-radio-button value="student">Student</mat-radio-button>
          <mat-radio-button value="school">School</mat-radio-button>
      </mat-radio-group>
      <mat-form-field *ngIf="type.value === 'school'">
        <input
          matInput
          type="text"
          name="schoolName"
          ngModel
          required
          placeholder="School name"
          #schoolName="ngModel">
      </mat-form-field>
      <mat-form-field *ngIf="type.value==='student'">
        <mat-select
          placeholder="Select your school"
          name="selectedSchoolId"
          ngModel
          required
          #selectedSchoolId="ngModel">
          <mat-option *ngFor="let school of schools" [value]="school._id">{{ school.name }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <button mat-raised-button color="primary" [disabled]="!f.valid" type="submit">Sign Up</button>
  </mat-card>
</form>
